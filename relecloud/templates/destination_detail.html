{% extends 'base.html' %}
{% load static %}

{% block title %}
ReleCloud - {{ destination.name }}
{% endblock %}

{% block content %}
<div class="destination-detail-hero">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="destination-header">
                    <!-- BotÃ³n de regreso -->
                    <a href="{% url 'destinations' %}" class="back-button">
                        <span class="back-arrow">â†</span>
                        <span>Volver a Destinos</span>
                    </a>
                    
                    <!-- TÃ­tulo del destino -->
                    <div class="destination-title-section">
                        <div class="destination-main-icon">
                            {% if 'Mars' in destination.name or 'mars' in destination.name %}
                                ğŸ”´
                            {% elif 'Moon' in destination.name or 'moon' in destination.name %}
                                ğŸŒ™
                            {% elif 'Jupiter' in destination.name or 'jupiter' in destination.name %}
                                ğŸª
                            {% elif 'Saturn' in destination.name or 'saturn' in destination.name %}
                                ğŸª
                            {% elif 'Star' in destination.name or 'star' in destination.name %}
                                â­
                            {% elif 'Galaxy' in destination.name or 'galaxy' in destination.name %}
                                ğŸŒŒ
                            {% elif 'Nebula' in destination.name or 'nebula' in destination.name %}
                                ğŸŒ 
                            {% else %}
                                ğŸš€
                            {% endif %}
                        </div>
                        <h1 class="display-2 destination-name">{{ destination.name }}</h1>
                        <div class="destination-badge">Destino Espacial Confirmado</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container destination-detail-content">
    <div class="row">
        <div class="col-lg-8">
            <!-- DescripciÃ³n del destino -->
            <div class="destination-description-card">
                <h2 class="section-title">ğŸŒŒ DescripciÃ³n del Destino</h2>
                <div class="description-content">
                    {% if destination.description %}
                        <p class="destination-text">{{ destination.description }}</p>
                    {% else %}
                        <p class="destination-text">
                            Bienvenido a {{ destination.name }}, uno de los destinos mÃ¡s extraordinarios de nuestro catÃ¡logo cÃ³smico. 
                            Este lugar te ofrecerÃ¡ una experiencia Ãºnica que desafiarÃ¡ todos tus sentidos y te conectarÃ¡ con la inmensidad del universo.
                        </p>
                        <p class="destination-text">
                            Nuestros expertos en turismo espacial han seleccionado cuidadosamente este destino por sus caracterÃ­sticas Ãºnicas 
                            y las oportunidades incomparables de exploraciÃ³n que ofrece.
                        </p>
                    {% endif %}
                </div>
            </div>

            <!-- Lista de cruceros -->
            <div class="cruises-section">
                <h2 class="section-title">ğŸš€ Cruceros Disponibles</h2>
                <p class="cruises-intro">Puedes explorar {{ destination.name }} en los siguientes cruceros espaciales:</p>
                
                <div class="cruises-grid">
                    {% for cruise in destination.cruises.all %}
                    <div class="cruise-card">
                        <a href="{% url 'cruise_detail' cruise.id %}" class="cruise-link">
                            <div class="cruise-content">
                                <div class="cruise-icon">ğŸ›¸</div>
                                <h3 class="cruise-name">{{ cruise.name }}</h3>
                                <div class="cruise-details">
                                    {% if cruise.duration %}
                                        <div class="cruise-detail-item">
                                            <span class="detail-icon">â±ï¸</span>
                                            <span>{{ cruise.duration }} dÃ­as</span>
                                        </div>
                                    {% endif %}
                                    {% if cruise.price %}
                                        <div class="cruise-detail-item">
                                            <span class="detail-icon">ğŸ’°</span>
                                            <span>${{ cruise.price }}</span>
                                        </div>
                                    {% endif %}
                                </div>
                                <div class="cruise-button">
                                    <span>Ver Detalles</span>
                                    <span class="button-arrow">â†’</span>
                                </div>
                            </div>
                            <div class="cruise-hover-effect"></div>
                        </a>
                    </div>
                    {% empty %}
                    <div class="no-cruises-message">
                        <div class="no-cruises-icon">ğŸŒŒ</div>
                        <h4>PrÃ³ximamente</h4>
                        <p>Estamos preparando cruceros extraordinarios para este destino. Â¡Mantente atento!</p>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
        
        <div class="col-lg-4">
            <!-- Panel lateral de informaciÃ³n -->
            <div class="info-sidebar">
                <!-- EstadÃ­sticas del destino -->
                <div class="stats-card">
                    <h3 class="stats-title">ğŸ“Š InformaciÃ³n del Destino</h3>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-value">{{ destination.cruises.count }}</div>
                            <div class="stat-label">Crucero{{ destination.cruises.count|pluralize:"s" }}</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">â­â­â­â­â­</div>
                            <div class="stat-label">CalificaciÃ³n</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">âˆ</div>
                            <div class="stat-label">Aventuras</div>
                        </div>
                    </div>
                </div>

                <!-- Call to action -->
                <div class="cta-sidebar-card">
                    <h3 class="cta-sidebar-title">ğŸš€ Â¿Listo para Viajar?</h3>
                    <p class="cta-sidebar-text">Solicita informaciÃ³n sobre este destino extraordinario</p>
                    <a href="{% url 'info_request' %}" class="btn btn-space-primary btn-block">
                        Solicitar InformaciÃ³n
                    </a>
                </div>

                <!-- Destinos relacionados -->
                <div class="related-destinations">
                    <h3 class="related-title">ğŸŒŸ Otros Destinos</h3>
                    <a href="{% url 'destinations' %}" class="btn btn-outline-space">
                        Ver Todos los Destinos
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock content %}